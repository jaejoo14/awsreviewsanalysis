{% extends "awsreviews/base.html" %}
{% block content %}
   <div>
       <h2>Solr Queries</h2>
<hr>

       <h3>Collection - 20 millions of Amazon Reviews.</h3>
<a href="https://s3.amazonaws.com/amazon-reviews-pds/readme.html" target="_blank">Amazon Customer Reviews</a>
        </div>

    <div >
    <form method="GET" action="/search/result" >
        <p><label>query:</label> <input type="text" name="query" size="80" </p>
        <button type="submit" class="save btn btn-default">Search</button>
    </form>
    </div>
<hr>
<ul>
        <li><p>Searches</p></li>
                <ul>
                        <li><a href="/search/result?query=facet.field%3Dstar_rating%26facet%3Don%26q%3Dproduct_id%253AB001FA1NUK%26rows%3D0">Facet  by star-ratings</a>
                </ul>
                <ul>
                        <li><a href="/search/result?query=q%3Dproduct_title:(hdmi%2520AND%2520cable)%26rows%3D0%26facet%3Dtrue%26facet.pivot%3Dproduct_id%2Cstar_rating%26facet.limit%3D10">Facet by Product_id and star-ratings (Pivot)</a>
                </ul>
                <ul>
                        <li><a href="/search/result?query=fl%3Did%2Cstar_rating%2Cproduct_title%26q%3Dproduct_title%3A(hdmi%2520AND%2520cable)%26group%3Dtrue%26group.field%3Dstar_rating%26group.limit%3D3%26sort%3Dstar_rating%2520desc">Group by star-ratings</a>
                </ul>
		<br/>
                <ul>
                        <li><a href="/search/result?query=fl%3Dreview_id%2Cproduct_title%2Creview_headline%26mlt%3Dtrue%26mlt.match.include%3Dtrue%26mlt.mintf%3D1%26mlt.mindf%3D1%26q%3Did%3AR3K6K40KCJVGXO%26mlt.fl%3Dreview_headline%2Creview_headline%26mlt.count%3D10%26wt%3D%0A">MoreLikeThis by single document</a>
                        <li><a href="/search/result?query=fl%3Dreview_id%2Cproduct_title%2Creview_headline%26mlt%3Dtrue%26mlt.match.include%3Dtrue%26mlt.mintf%3D1%26mlt.mindf%3D1%26q%3Dproduct_title:(hdmi%2520AND%2520cable)%26rows%3D5%26mlt.fl%3Dreview_headline%2Creview_headline%26mlt.count%3D10%26wt%3D%0A">MoreLikeThis by search result</a>
                </ul>
		<br/>
                <ul>
                        <li><a href="/search/result?query=fl%3Did%26hl.fl%3Dreview_body%26hl.fragsize%3D100%26hl.snippets%3D1%26hl%3Don%26q%3Dreview_body%253Ahate">Snippets</a>
        <li><p>Terms  Queries</p></li>
		</ul>
                <ul>
                        <li><a href="/terms/result?query=terms.fl%3Dproduct_title_str%26terms.prefix%3Da%26terms.mincount%3D5%26terms.limit%3D5">Auto Completing (Type Ahead)</a>
                </ul>
                <ul>
                        <li><a href="/terms/result?query=terms.fl%3Dproduct_title_str%26terms.regex%3D.*hdmi.*%26terms.mincount%3D5%26terms.limit%3D5">Auto Completing (regex)</a>
                </ul>
</ul>
<br/>
    <div >
    <form method="GET" action="/stream/result" >{% csrf_token %}
        <p><label>streaming expr:</label> <input type="text" name="expr" size="100" </p>
        <button type="submit" class="save btn btn-default">Stream</button>
    </form>
    </div>
<ul>
        <li><p>Streaming Expression</p></li>
                <ul>
                        <li><a href='/stream/result?expr=let(samples=search(reviews,q="product_title:(hdmi AND cable)",fl="id, product_title,star_rating",rows=1000,sort="id asc"),responses=col(samples,star_rating),summary=describe(responses))'>Summary of star-ratings for (hdmi AND cable)</a>
		</ul>
</ul>
{% endblock content %}

